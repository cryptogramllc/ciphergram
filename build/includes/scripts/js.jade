// JS begin
// jQuery
script(src='/js/jquery-1.11.2.min.js')
// Include all compiled plugins (below), or include individual files as needed
script(src='/js/bootstrap.min.js')
// MAGNIFIC POPUP
script(src='/js/jquery.magnific-popup.min.js')
// PORTFOLIO SCRIPTS
script(src='/js/isotope.pkgd.min.js')
script(src='/js/imagesloaded.pkgd.min.js')
script(src='/js/masonry.pkgd.min.js')
// COUNTER
script(src='/js/jquery.countTo.js')
// APPEAR
script(src='/js/jquery.appear.js')
// GOOLE MAP
//- script(src='https://maps.google.com/maps/api/js?key=INSERT-YOUR-API-KEY-HERE')
script(src='/js/gmap3.min.js')
//if lt IE 10
    script(src='/js/jquery.placeholder.js')
// FORMS VALIDATION
script(src='/js/jquery.validate.min.js')
//- script(src='/js/contact-form-validation.min.js')
script.
    // Simple Contact Form Handler
    jQuery(document).ready(function($) {
        'use strict';
    
        $('#contact-form').on('submit', function(e) {
            e.preventDefault();
            
            var $form = $(this);
            var $submitButton = $form.find('button[type="submit"]');
            var $successMessage = $('#contactSuccess');
            var $errorMessage = $('#contactError');
            
            // Hide previous messages
            $successMessage.addClass('hidden');
            $errorMessage.addClass('hidden');
            
            // Disable submit button and show loading state
            $submitButton.prop('disabled', true).text('SENDING...');
            
            // Get form data
            var formData = {
                name: $('#name').val(),
                email: $('#email').val(),
                message: $('#message').val()
            };
            
            // Simple validation
            if (!formData.name || !formData.email || !formData.message) {
                $errorMessage.removeClass('hidden');
                $submitButton.prop('disabled', false).text('SEND MESSAGE');
                return;
            }
            
            // For local testing - simulate successful submission
            // In production, this will submit to AWS Lambda
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                // Local testing - simulate success
                setTimeout(function() {
                    $successMessage.removeClass('hidden');
                    $form[0].reset();
                    
                    // Scroll to success message
                    $('html, body').animate({
                        scrollTop: $successMessage.offset().top - 100
                    }, 500);
                    
                    $submitButton.prop('disabled', false).text('SEND MESSAGE');
                    
                    console.log('Local test - Form data:', formData);
                }, 1000);
            } else {
                // Production - submit to AWS Lambda
                $.ajax({
                    type: 'POST',
                    url: 'https://w2wmida0bj.execute-api.us-east-1.amazonaws.com/prod/contact',
                    data: JSON.stringify(formData),
                    contentType: 'application/json',
                    dataType: 'json',
                    success: function(response) {
                        $successMessage.removeClass('hidden');
                        $form[0].reset();
                        
                        // Scroll to success message
                        $('html, body').animate({
                            scrollTop: $successMessage.offset().top - 100
                        }, 500);
                    },
                    error: function(xhr, status, error) {
                        $errorMessage.removeClass('hidden');
                        
                        // Scroll to error message
                        $('html, body').animate({
                            scrollTop: $errorMessage.offset().top - 100
                        }, 500);
                        
                        console.error('AWS Lambda error:', xhr, status, error);
                    },
                    complete: function() {
                        $submitButton.prop('disabled', false).text('SEND MESSAGE');
                    }
                });
            }
        });
        
        // Hide messages when user starts typing
        $('.controled').on('keyup', function() {
            $('#contactSuccess, #contactError').addClass('hidden');
        });
    });
// OWL CAROUSEL
script(src='/js/owl.carousel.min.js')
// MAIN SCRIPT
script(src='/js/main.js?v=20240115')
// REVOSLIDER SCRIPTS
// SLIDER REVOLUTION 4.x SCRIPTS
script(src='/rs-plugin/js/jquery.themepunch.tools.min.js')
script(src='/rs-plugin/js/jquery.themepunch.revolution-parallax.min.js')
script(src="/js/jquery.nav.js")
// SLIDER REVOLUTION INIT
script.
    jQuery(document).ready(function() {
    if ( (navigator.appVersion.indexOf("Win")!=-1) && ( ieDetect == false ) ) {
    jQuery('#rs-fullwidth').revolution(
    {
    dottedOverlay:"none",
    delay:16000,
    startwidth:1170,
    startheight:665,
    hideThumbs:200,
    thumbWidth:100,
    thumbHeight:50,
    thumbAmount:5,
    //fullScreenAlignForce: "off",
    navigationType:"none",
    navigationArrows:"solo",
    navigationStyle:"preview4",
    hideTimerBar:"on",
    touchenabled:"on",
    onHoverStop:"on",
    swipe_velocity: 0.7,
    swipe_min_touches: 1,
    swipe_max_touches: 1,
    drag_block_vertical: false,
    parallax:"scroll",
    parallaxBgFreeze:"on",
    parallaxLevels:[45,40,35,50],
    parallaxDisableOnMobile:"on",
    keyboardNavigation:"off",
    navigationHAlign:"center",
    navigationVAlign:"bottom",
    navigationHOffset:0,
    navigationVOffset:20,
    soloArrowLeftHalign:"left",
    soloArrowLeftValign:"center",
    soloArrowLeftHOffset:20,
    soloArrowLeftVOffset:0,
    soloArrowRightHalign:"right",
    soloArrowRightValign:"center",
    soloArrowRightHOffset:20,
    soloArrowRightVOffset:0,
    shadow:0,
    fullWidth:"on",
    fullScreen:"off",
    spinner:"spinner4",
    stopLoop:"off",
    stopAfterLoops:-1,
    stopAtSlide:-1,
    shuffle:"off",
    autoHeight:"off",
    forceFullWidth:"off",
    hideThumbsOnMobile:"off",
    hideNavDelayOnMobile:1500,
    hideBulletsOnMobile:"off",
    hideArrowsOnMobile:"off",
    hideThumbsUnderResolution:0,
    hideSliderAtLimit:0,
    hideCaptionAtLimit:0,
    hideAllCaptionAtLilmit:0,
    startWithSlide:0,
    //fullScreenOffsetContainer: ""
    });
    } else {
    jQuery('#rs-fullwidth').revolution(
    {
    dottedOverlay:"none",
    delay:16000,
    startwidth:1170,
    startheight:760,
    hideThumbs:200,
    thumbWidth:100,
    thumbHeight:50,
    thumbAmount:5,
    navigationType:"none",
    navigationArrows:"solo",
    navigationStyle:"preview4",
    hideTimerBar:"on",
    touchenabled:"on",
    onHoverStop:"on",
    swipe_velocity: 0.7,
    swipe_min_touches: 1,
    swipe_max_touches: 1,
    drag_block_vertical: false,
    parallax:"mouse",
    parallaxBgFreeze:"on",
    parallaxLevels:[0],
    parallaxDisableOnMobile:"on",
    keyboardNavigation:"off",
    navigationHAlign:"center",
    navigationVAlign:"bottom",
    navigationHOffset:0,
    navigationVOffset:20,
    soloArrowLeftHalign:"left",
    soloArrowLeftValign:"center",
    soloArrowLeftHOffset:20,
    soloArrowLeftVOffset:0,
    soloArrowRightHalign:"right",
    soloArrowRightValign:"center",
    soloArrowRightHOffset:20,
    soloArrowRightVOffset:0,
    shadow:0,
    fullWidth:"on",
    fullScreen:"off",
    spinner:"spinner4",
    stopLoop:"off",
    stopAfterLoops:-1,
    stopAtSlide:-1,
    shuffle:"off",
    autoHeight:"off",
    forceFullWidth:"off",
    hideThumbsOnMobile:"off",
    hideNavDelayOnMobile:1500,
    hideBulletsOnMobile:"off",
    hideArrowsOnMobile:"off",
    hideThumbsUnderResolution:0,
    hideSliderAtLimit:0,
    hideCaptionAtLimit:0,
    hideAllCaptionAtLilmit:0,
    startWithSlide:0,
    });
    }
    });	//ready
script.
    $(document).ready(function() {
    //ONE PAGE NAV	---------------------------------------------------------------------------
        var top_offset = $('header').height() - 1;  // get height of fixed navbar
        $('#nav-onepage').onePageNav({
            currentClass: 'current',
            changeHash: false,
            scrollSpeed: 700,
            scrollOffset: top_offset,
            scrollThreshold: 0.5,
            filter: '',
            easing: 'swing',
            begin: function() {
                //I get fired when the animation is starting
            },
            end: function() {
                //I get fired when the animation is ending
            },
            scrollChange: function($currentListItem) {
                //I get fired when you enter a section and I pass the list item of the section
            }
        });

    });//END document.ready 
script.
    $(document).ready(function(){
        $('#contact-form').submit(function(event){
            event.preventDefault();
            let $data = $(this).serializeArray();
            let $name = $data[0].value;
            let $email = $data[1].value;
            let $message = $data[2].value;
            let incomplete = ($name.length == 0 || $email.length == 0 || $message.length == 0);
            if (!$email.match(/^[^@]+@[^@]+$/)) {
                console.log('Not sending: invalid email address');
                $('.alert').addClass('hidden');
                $('.alert-danger').removeClass('hidden');
                incomplete = true;
            }
            if(!incomplete){ 
                console.log('processing')
                let  payload = { 
                    name : $name,
                    email : $email,
                    message: $message
                }
                const API_URL =
                    "https://8syk5uud37.execute-api.us-east-1.amazonaws.com/prod/contact";
                $.ajax({
                    contentType: 'application/json',
                    data: JSON.stringify(payload),
                    dataType: 'json',
                    type: 'POST',
                    url: API_URL,
                })
                .done((data) => {
                    console.log(data);
                    $('.alert').addClass('hidden');
                    $('.alert-success').removeClass('hidden');
                })
                .fail(() => {});


            }
        });
    });
script.
    $(document).ready(function(){
        $('.lightbox-item .icon_search').click(function(event){
            const $this = $(event.target);
            const $html = $this.closest('.port-item').find('.gallery-content').html();
            $('.mfp-more-info').fadeIn();
            $('.mfp-text').fadeIn();
            $('.mfp-text-inner').html($html); 
        });
        $('.mfp-more-info').click(function(event){
            $('.mfp-text').fadeIn();
            $('.mfp-more-info').fadeOut();
        });
        $('body').on('click', function(event){
            $this = $(event.target);
            $className = $this.context.className;
            console.log($className);
            if($className.includes("mfp-container") || $className.includes("mfp-close")) {
                $('.mfp-more-info').fadeOut();
                $('.mfp-text').fadeOut();
            }
           
        });
        $('.mfp-text-close').click(function(){
            $('.mfp-more-info').fadeIn();
            $('.mfp-text').fadeOut();
        });
    });
// JS end
script.
  $(document).ready(function(){
     let $url = window.location.pathname.split('/')[1].replace('.html', '');
     $url === 'index' ? $url = '' : $url = $url;
      console.log("🚀 ~ file: js.jade:255 ~ $ ~  $url:",  $url)
      if($url.length > 0 ){ 
        $('#nav').addClass('dark-bg');
      }
      if($url !== 'index') { 
         $('#nav-onepage a').each(function() {
            var href = $(this).attr('href');
            // Check if the href is a fragment identifier (starts with #)
            if (href && href.startsWith('#')) {
                // Prepend "index.html" to the href
                $(this).attr('href', 'index.html' + href);
            }
         });
      }
  });

// Client Modal JavaScript
script.
  // QUOTE FORM FUNCTIONALITY
  $(document).ready(function() {
      $('#quoteForm').on('submit', function(e) {
          e.preventDefault();
          
          // Get form data
          const formData = {
              name: $('input[name="name"]').val(),
              email: $('input[name="email"]').val(),
              company: $('input[name="company"]').val(),
              project_type: $('select[name="project_type"]').val(),
              budget_range: $('select[name="budget_range"]').val(),
              timeline: $('select[name="timeline"]').val(),
              project_description: $('textarea[name="project_description"]').val(),
              additional_info: $('textarea[name="additional_info"]').val()
          };
          
          // Basic validation
          if (!formData.name || !formData.email || !formData.project_type || !formData.project_description) {
              alert('Please fill in all required fields.');
              return;
          }
          
          // Show loading state
          const submitBtn = $(this).find('button[type="submit"]');
          const originalText = submitBtn.text();
          submitBtn.text('Sending Quote Request...').prop('disabled', true);
          
          // Simulate form submission (replace with actual endpoint)
          setTimeout(function() {
              // Reset form
              $('#quoteForm')[0].reset();
              
              // Show success message
              alert('Thank you! Your quote request has been submitted. We\'ll send you a detailed quote within 24 hours.');
              
              // Reset button
              submitBtn.text(originalText).prop('disabled', false);
          }, 2000);
      });
  });

  // Client work data
  const clientData = {
    'edf': {
      title: 'EDF Energy',
      logo: 'images/clients/1.png',
      description: 'Full Stack Developer for EDF\'s Customer Consumer Usage Report Application. Assisted in developing microservices for customer-facing Web/Mobile applications focused on reports, cost-efficiency, and billing. Created server-side RESTful API scripts with scalability for high user traffic, leveraged TDD to ensure business requirements were met, and participated in Agile ceremonies including Sprint Planning and Retrospectives.',
      technologies: ['Node.js', 'TypeScript', 'AWS Lambda', 'GraphQL', 'CloudFormation', 'CloudWatch', 'Jenkins', 'Azure Artifacts', 'Serverless', 'Mocha', 'Jasmine']
    },
    'student-room': {
      title: 'The Student Room',
      logo: 'images/clients/2.png',
      description: 'React Native Developer for SkillSeed - Student Mental Health and Well-being Application. Developed Beta version of iOS/Android mental health app for students across various colleges. Converted UI designs into manageable components, leveraged JSON APIs on AWS for real-time data parsing, integrated complex animations using Airbnb\'s Lottie plugin, and used FastLane automation for deployment to Microsoft App Center.',
      technologies: ['React Native', 'XCode', 'Node.js', 'GitLab', 'EBS', 'Airbnb Lottie', 'FastLane CLI', 'TypeScript']
    },
    'vmware': {
      title: 'VMware',
      logo: 'images/clients/3.png',
      description: 'Node.js Developer for Voice Interactive Trivia Application. Created an Alexa Skill with tech trivia for users seeking VMware cloud-based SaaS certifications. Designed dialogue architecture for conversation flow and user experience, leveraged TDD to ensure product specifications were met, and collaborated remotely using Zoom, Slack, and other collaboration tools.',
      technologies: ['AWS Lambda', 'Alexa Skills Kit', 'Serverless', 'MySQL', 'JavaScript', 'Mocha', 'Chai', 'Node.js']
    },
    'allstate': {
      title: 'Allstate Insurance',
      logo: 'images/clients/4.png',
      description: 'React Developer at Allstate Insurance, Northbrook, IL. Worked on frontend development projects using React to build responsive and interactive user interfaces for insurance applications.',
      technologies: ['React', 'JavaScript', 'HTML/CSS', 'Node.js']
    },
    'iag': {
      title: 'International Airlines Group',
      logo: 'images/clients/5.png',
      description: 'Worked on aviation technology solutions for IAG, contributing to flight operations and passenger management systems. Focused on building scalable applications to handle real-time data processing and improve operational efficiency.',
      technologies: ['React', 'Node.js', 'JavaScript', 'AWS', 'Docker', 'MySQL']
    },
    'interactive-investor': {
      title: 'Interactive Investor',
      logo: 'images/clients/6.png',
      description: 'Developed financial technology solutions for Interactive Investor, working on trading platforms and investment management tools. Built responsive user interfaces and integrated real-time market data APIs.',
      technologies: ['React', 'Node.js', 'JavaScript', 'REST APIs', 'PostgreSQL', 'AWS']
    },
    'fantastic-thinking': {
      title: 'Fantastic Thinking',
      logo: 'images/clients/7.png',
      description: 'Front-End Developer at Fantastic Thinking, London, UK. Utilized JavaScript task runner and automated CSS with Grunt, Node, Bower, and various JavaScript libraries. Worked with C# and .NET CMS - EPIServer, organized projects under Agile development practice, and designed UI interfaces for responsive mobile sites using jQuery and SASS. Created rich application websites using Angular, Node, and Yeoman, and incorporated accessibility for HTML into sites for hearing impaired users.',
      technologies: ['JavaScript', 'Grunt', 'Node.js', 'Bower', 'C#', '.NET', 'EPIServer', 'jQuery', 'SASS', 'Angular', 'Yeoman', 'Susy', 'BitBucket', 'JIRA']
    },
    'intouch-solutions': {
      title: 'InTouch Solutions',
      logo: 'images/clients/8.png',
      description: 'Built customer engagement solutions for InTouch Solutions, developing web applications and mobile interfaces. Focused on creating seamless user experiences and integrating various communication channels.',
      technologies: ['Angular', 'Node.js', 'JavaScript', 'SQL Server', 'Azure', 'REST APIs']
    },
    'calabash': {
      title: 'Calabash',
      logo: 'images/clients/9.png',
      description: 'Contributed to mobile testing solutions for Calabash, working on automated testing frameworks and quality assurance tools. Focused on improving testing efficiency and cross-platform compatibility.',
      technologies: ['Ruby', 'JavaScript', 'Docker', 'Jenkins', 'iOS', 'Android']
    },
    'infinity': {
      title: 'Infinity Systems',
      logo: 'images/clients/10.png',
      description: 'Developed cloud infrastructure solutions for Infinity Systems, working on scalable applications and deployment automation. Focused on improving system reliability and performance optimization.',
      technologies: ['Node.js', 'Docker', 'AWS', 'JavaScript', 'MySQL', 'Monitoring']
    },
    'call-one': {
      title: 'Call One',
      logo: 'images/clients/11.png',
      description: 'Built communication solutions for Call One, developing web and mobile applications for voice and video calling services. Focused on creating reliable and user-friendly communication platforms.',
      technologies: ['React', 'Node.js', 'JavaScript', 'WebRTC', 'PostgreSQL', 'Docker']
    },
    'stylized-ci': {
      title: 'CI Solutions',
      logo: 'images/clients/12.png',
      description: 'Worked on continuous integration and deployment solutions for CI Solutions, developing automation tools and build pipelines. Focused on improving development workflows and deployment efficiency.',
      technologies: ['Node.js', 'Docker', 'Jenkins', 'JavaScript', 'Git', 'AWS']
    }
  };

  // Modal functionality
  const modal = document.getElementById('clientModal');
  const modalTitle = document.getElementById('clientModalTitle');
  const modalLogo = document.getElementById('clientModalLogo');
  const modalDescription = document.getElementById('clientModalDescription');
  const modalTech = document.getElementById('clientModalTech');
  const closeBtn = document.querySelector('.client-modal-close');

  // Add click event listeners to all client logos
  document.querySelectorAll('[data-client]').forEach(element => {
    element.addEventListener('click', function() {
      const clientId = this.getAttribute('data-client');
      const client = clientData[clientId];
      
      if (client) {
        modalTitle.textContent = client.title;
        modalLogo.src = client.logo;
        modalLogo.alt = client.title;
        modalDescription.textContent = client.description;
        
        // Clear and populate tech tags
        modalTech.innerHTML = '';
        client.technologies.forEach(tech => {
          const tag = document.createElement('span');
          tag.className = 'tech-tag';
          tag.textContent = tech;
          modalTech.appendChild(tag);
        });
        
        modal.style.display = 'block';
        document.body.style.overflow = 'hidden'; // Prevent background scrolling
      }
    });
  });

  // Close modal functionality
  closeBtn.addEventListener('click', function() {
    modal.style.display = 'none';
    document.body.style.overflow = 'auto';
  });

  // Close modal when clicking outside
  window.addEventListener('click', function(event) {
    if (event.target === modal) {
      modal.style.display = 'none';
      document.body.style.overflow = 'auto';
    }
  });

  // Close modal with Escape key
  document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape' && modal.style.display === 'block') {
      modal.style.display = 'none';
      document.body.style.overflow = 'auto';
    }
  });




|<script id="__bs_script__">//<![CDATA[
//- |document.write("<script async src='http://HOST:3000/browser-sync/browser-sync-client.2.12.5.js'><\/script>".replace("HOST", location.hostname));
|//]]></script>